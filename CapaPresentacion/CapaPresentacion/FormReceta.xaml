<Window x:Class="CapaPresentacion.FormReceta"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Gestión de Recetas" Height="600" Width="800"
        Background="#fff8e1"
        FontFamily="Georgia"
        Loaded="Window_Loaded"
        WindowStartupLocation="CenterScreen">

    <Border Background="White" CornerRadius="12" Padding="20"
            BorderBrush="#e2a42d" BorderThickness="2" Margin="20">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Grid.Row="0" Text="📋 GESTIÓN DE RECETAS" FontSize="24" FontWeight="Bold"
                       Foreground="#a36b00" HorizontalAlignment="Center" Margin="0,0,0,20"/>

            <GroupBox Header="SELECCIONAR PRODUCTO" Grid.Row="1" FontWeight="Bold" Foreground="#a36b00">
                <StackPanel Orientation="Horizontal" Margin="10">
                    <TextBlock Text="Producto:" VerticalAlignment="Center" Margin="0,0,10,0" Foreground="#5c3a00"/>
                    <ComboBox x:Name="cboProductos" Width="300" DisplayMemberPath="Nombre" SelectedValuePath="IdProducto"
                              SelectionChanged="cboProductos_SelectionChanged" BorderBrush="#e2a42d"/>
                </StackPanel>
            </GroupBox>

            <Grid Grid.Row="2" Margin="0,20,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="3*"/>
                </Grid.ColumnDefinitions>

                <GroupBox Header="AGREGAR MATERIA PRIMA" Grid.Column="0" FontWeight="Bold" Foreground="#a36b00">
                    <StackPanel Margin="10">
                        <TextBlock Text="Materia Prima:" Foreground="#5c3a00" Margin="0,5,0,2"/>
                        <ComboBox x:Name="cboMateriasPrimas" DisplayMemberPath="Nombre" SelectedValuePath="IdMateria"
                                  Height="30" Margin="0,0,0,10" BorderBrush="#e2a42d"/>

                        <TextBlock Text="Cantidad Necesaria:" Foreground="#5c3a00" Margin="0,5,0,2"/>
                        <TextBox x:Name="txtCantidadNecesaria" Height="30" Margin="0,0,0,10" BorderBrush="#e2a42d"/>

                        <TextBlock Text="Unidad:" Foreground="#5c3a00" Margin="0,5,0,2"/>
                        <TextBlock x:Name="txtUnidad" Height="30" Margin="0,0,0,10" Background="#f0f0f0" Padding="4"/>

                        <Button x:Name="btnAgregar" Content="➕ Agregar a Receta" Height="35"
                                Background="#4CAF50" Foreground="White" FontWeight="Bold" Margin="0,15,0,0"
                                Click="btnAgregar_Click"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="RECETA ACTUAL" Grid.Column="1" FontWeight="Bold" Foreground="#a36b00" Margin="20,0,0,0">
                    <Border Background="White" CornerRadius="10" Padding="5"
                            BorderBrush="#e2a42d" BorderThickness="2">
                        <DataGrid x:Name="dgvReceta" AutoGenerateColumns="False" IsReadOnly="True"
                                  Background="White" BorderThickness="0">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Materia Prima" Binding="{Binding NombreMateria}" Width="*"/>
                                <DataGridTextColumn Header="Cantidad" Binding="{Binding CantidadNecesaria}" Width="100"/>
                                <DataGridTextColumn Header="Unidad" Binding="{Binding Unidad}" Width="100"/>
                                <DataGridTemplateColumn Header="Acciones" Width="100">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Content="🗑️" Click="BtnEliminar_Click"
                                                    Background="#f44336" Foreground="White" Padding="5"/>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </GroupBox>
            </Grid>
        </Grid>
    </Border>
</Window>