<Window x:Class="CapaPresentacion.FormGestionUsuarios"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Gestión de Usuarios - Pastas Elvira" Height="600" Width="800"
        Background="#fff8e1"
        FontFamily="Georgia"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Loaded="Window_Loaded">

    <Border Background="White" CornerRadius="12" Padding="20"
            BorderBrush="#e2a42d" BorderThickness="2" Margin="15">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Título -->
            <TextBlock Grid.Row="0" Text="👥 GESTIÓN DE USUARIOS" FontSize="24" FontWeight="Bold"
                       Foreground="#a36b00" HorizontalAlignment="Center" Margin="0,0,0,20"/>

            <!-- Botón Agregar -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,0,0,10">
                <Button Content="➕ Agregar Usuario" Width="150" Height="35"
                        Click="BtnAgregarUsuario_Click" Background="#e2a42d" 
                        Foreground="White" FontWeight="Bold" FontSize="12"/>
            </StackPanel>

            <!-- Grid de Usuarios -->
            <GroupBox Header="USUARIOS EXISTENTES" Grid.Row="1" Margin="0,10,0,0" 
                     FontWeight="Bold" Foreground="#a36b00" FontSize="14">
                <Border Background="White" CornerRadius="10" Padding="5"
                        BorderBrush="#e2a42d" BorderThickness="2">
                    <DataGrid x:Name="dgvUsuarios" AutoGenerateColumns="False" IsReadOnly="True" 
                             BorderThickness="0" SelectionChanged="dgvUsuarios_SelectionChanged"
                             CanUserAddRows="False" CanUserDeleteRows="False"
                             HeadersVisibility="Column" FontSize="12">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding IdUsuario}" Width="40"/>
                            <DataGridTextColumn Header="Usuario" Binding="{Binding NombreUsuario}" Width="100"/>
                            <DataGridTextColumn Header="Nombre" Binding="{Binding Nombre}" Width="100"/>
                            <DataGridTextColumn Header="Apellido" Binding="{Binding Apellido}" Width="100"/>
                            <DataGridTextColumn Header="Documento" Binding="{Binding Documento}" Width="80"/>
                            <DataGridTextColumn Header="Teléfono" Binding="{Binding Telefono}" Width="90"/>
                            <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="150"/>
                            <DataGridTextColumn Header="CUIL" Binding="{Binding Cuil}" Width="90"/>
                            <DataGridTextColumn Header="Rol" Binding="{Binding Rol}" Width="80"/>
                            <DataGridCheckBoxColumn Header="Activo" Binding="{Binding Activo}" Width="50"/>
                            <DataGridTemplateColumn Header="Acciones" Width="120">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                            <Button Content="✏️" Click="BtnEditarUsuario_Click"
                                                    Margin="2" Padding="8,4" FontSize="12" Background="#FFC107"
                                                    ToolTip="Editar Usuario" Cursor="Hand"/>
                                            <Button Content="🗑️" Click="BtnEliminarUsuario_Click"
                                                    Margin="2" Padding="8,4" FontSize="12" Background="#f44336"
                                                    ToolTip="Eliminar Usuario" Cursor="Hand"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Border>
            </GroupBox>

            <!-- Botones Inferiores -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,15,0,0">
                <Button Content="🔄 Actualizar" Width="100" Height="30" Click="BtnActualizar_Click"
                        Background="#2196F3" Foreground="White" FontWeight="Bold" Margin="0,0,10,0"
                        ToolTip="Actualizar lista de usuarios"/>
                <Button Content="Cerrar" Width="80" Height="30" Click="BtnCerrar_Click"
                        Background="#a36b00" Foreground="White" FontWeight="Bold"/>
            </StackPanel>

            <!-- Barra de Estado -->
            <StatusBar Grid.Row="2" VerticalAlignment="Bottom" Background="#f5f5f5" Height="25">
                <StatusBarItem>
                    <TextBlock x:Name="txtEstado" Text="Listo" Foreground="#666"/>
                </StatusBarItem>
                <StatusBarItem HorizontalAlignment="Right">
                    <TextBlock x:Name="txtContador" Text="0 usuarios" Foreground="#666" Margin="0,0,10,0"/>
                </StatusBarItem>
            </StatusBar>
        </Grid>
    </Border>
</Window>