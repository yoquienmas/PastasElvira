<Window x:Class="CapaPresentacion.MenuAdmin"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Menu Administrador - Pastas Elvira" Height="600" Width="900"
        Background="#fff8e1" FontFamily="Georgia"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Border Background="White" CornerRadius="12" Padding="20"
                BorderBrush="#e2a42d" BorderThickness="2" Margin="20,22,20,18">
            <StackPanel>
                <!-- Header con Cerrar Sesión -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,20">
                    <Button Content="🚪 Cerrar Sesión" 
                            Background="#6c757d" Foreground="White" FontWeight="Bold"
                            Padding="10,5" Click="BtnCerrarSesion_Click"
                            Cursor="Hand"/>
                </StackPanel>

                <TextBlock Text="MENÚ ADMINISTRADOR" FontSize="24" FontWeight="Bold" Foreground="#a36b00"
                           HorizontalAlignment="Center" Margin="0,0,0,20"/>

                <!-- 📦 GESTIÓN DE INVENTARIO -->
                <GroupBox Header="📦 GESTIÓN DE INVENTARIO" FontWeight="Bold" Foreground="#a36b00" Margin="0,0,0,15">
                    <WrapPanel Margin="10">
                        <Button Content="Materias Primas" Width="180" Height="40" Margin="5"
                                Background="#4CAF50" Foreground="White" FontWeight="Bold"
                                Click="btnMateriasPrimas_Click"
                                ToolTip="Gestionar harina, huevos, ingredientes"/>
                        <Button Content="Productos Terminados" Width="180" Height="40" Margin="5"
                                Background="#2196F3" Foreground="White" FontWeight="Bold"
                                Click="btnProductosTerminados_Click"
                                ToolTip="Gestionar pastas terminadas para venta"/>
                        <Button Content="Alertas de Stock" Width="180" Height="40" Margin="5"
                                Background="#f44336" Foreground="White" FontWeight="Bold"
                                Click="btnAlertasStock_Click"
                                ToolTip="Ver alertas de stock bajo"/>
                        <Button Content="Costos Fijos" Width="180" Height="40" Margin="5"
                                Background="#00BCD4" Foreground="White" FontWeight="Bold" 
                                Click="btnCostosFijos_Click"
                                ToolTip="Gestionar costos operativos"/>
                        <Button Content="💾 Backup DB" Width="180" Height="40" Margin="5"
                                Background="#9C27B0" Foreground="White" FontWeight="Bold"
                                Click="btnBackupDB_Click"
                                ToolTip="Realizar backup de la base de datos"/>
                    </WrapPanel>
                </GroupBox>

                <!-- 👤 GESTIÓN DE USUARIOS -->
                <GroupBox Header="👤 GESTIÓN DE USUARIOS" FontWeight="Bold" Foreground="#a36b00" Margin="0,0,0,15">
                    <WrapPanel Margin="10">
                        <Button Content="Gestión de Usuarios" Width="180" Height="40" Margin="5"
                                Background="#FF5722" Foreground="White" FontWeight="Bold"
                                Click="btnGestionUsuarios_Click"
                                ToolTip="Gestionar empleados y permisos"/>
                        <Button Content="Reportes Generales" Width="180" Height="40" Margin="5" 
                                Background="#FF4081" Foreground="White" FontWeight="Bold" 
                                Click="btnReportesGenerales_Click"
                                ToolTip="Reportes de ventas, producción e inventario"/>
                    </WrapPanel>
                </GroupBox>

                <!-- 🏭 GESTIÓN DE PRODUCCIÓN -->
                <GroupBox Header="🏭 GESTIÓN DE PRODUCCIÓN" FontWeight="Bold" Foreground="#a36b00" Margin="0,0,0,15">
                    <WrapPanel Margin="10">
                        <Button Content="Programar Producción" Width="200" Height="40" Margin="5"
                                Background="#FF9800" Foreground="White" FontWeight="Bold"
                                Click="btnProgramarProduccion_Click"
                                ToolTip="Planificar producción incluyendo recetas"/>
                        <Button Content="Historial Producción" Width="200" Height="40" Margin="5"
                                Background="#9C27B0" Foreground="White" FontWeight="Bold"
                                Click="btnHistorialProduccion_Click"
                                ToolTip="Ver historial y detalles de producción"/>
                    </WrapPanel>
                </GroupBox>

                <!-- 📈 VENTAS RECIENTES -->
                <GroupBox Header="📈 VENTAS RECIENTES" FontWeight="Bold" Foreground="#a36b00">
                    <StackPanel Margin="10">
                        <TextBlock Text="Últimas 20 ventas (30 días)" FontWeight="Bold" Margin="0,0,0,10" Foreground="#a36b00"/>
                        <Border Background="White" CornerRadius="10" Padding="5"
                                BorderBrush="#e2a42d" BorderThickness="2">
                            <DataGrid x:Name="dgvVentasAdmin" AutoGenerateColumns="False" IsReadOnly="True"
                                      Height="200" Background="White" BorderThickness="0"
                                      SelectionMode="Single">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding IdVenta}" Width="60"/>
                                    <DataGridTextColumn Header="Fecha" Binding="{Binding Fecha, StringFormat=dd/MM/yyyy}" Width="100"/>
                                    <DataGridTextColumn Header="Cliente" Binding="{Binding Cliente}" Width="150"/>
                                    <DataGridTextColumn Header="Vendedor" Binding="{Binding Usuario}" Width="120"/>
                                    <DataGridTextColumn Header="Total" Binding="{Binding Total, StringFormat=C}" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Border>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </Border>
    </Grid>
</Window>